<!DOCTYPE html>
<html lang="en">
<head>
  <meta name="viewport" content="width=device-width"/>
  <meta charset="UTF-8">
  <title>Multipage-list</title>
  <script src="../multipage-list/multipage-list.js"></script>
  <link href="../multipage-list/multipage-custom.css" rel="stylesheet" type="text/css">
</head>
<body>
<template id="multipageinner-template">
  <link as="style" type="text/css" rel="preload prefetch stylesheet" href="../multipage-list/multipage-list.css">
  <div part="box-container" class="multipage-box-container">
    <div id="multipage-innerbox">
      <slot  name="innerbox"></slot>
    </div>
  </div>
  <div part="track-container" id="multipage-track-container">
  </div>
</template>
<template id="pagetrack-template">
  <link as="style" type="text/css" rel="preload prefetch stylesheet" href="../multipage-list/multipage-track.css">
  <div data-type="page-num" class="page-num">first</div>
  <div data-type="page-control" class="static previous">&lt;</div>
  <div data-type="page-num" class="page-num"></div>
  <div data-type="page-num" class="page-num"></div>
  <div data-type="page-num" class="page-num"></div>
  <div data-type="page-num" class="page-num"></div>
  <div data-type="page-num" class="page-num"></div>
  <div data-type="page-control" class="static next">></div>
  <div data-type="page-num" class="page-num">last</div>
</template>
<template id="multipagerow-template">
  <div class="row-content" slot="row-content" >
    <p data-part="name"></p>
    <div data-part="info"></div>
  </div>
</template>
<multipage-list rows="5" tabindex="0"></multipage-list>
<script>
// construct some data
let list = [];
for(let i = 0; i < 67; i++){
  list.push({
    id:    "Dude-"+i,
    more:  "test item",
    index: i
  })
}
// get reference to the list item
document.querySelector("multipage-list")
// the formatter function is called with corresponding
// data item when the view is updated
.setRowFormatter((row,data) => {
// "name" and "info" are tagged parts set in multipagerow-template
// as "data-part"
  row.name.textContent = data.id;
  row.info.textContent = data.more;
})
// call set the data to be visualized by this element (causes redraw)
.forData(list)
// set filter to be used (causes redraw)
// i.e. only items with odd "index" are drawn
.filters.set({"fn": a => (a.index % 2)})
// called when a row is clicked
.setRowClickHandler((row) => console.log("clicked name: "+row.name.textContent))
</script>
</body>
</html>